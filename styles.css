
/* THEME: light & dark via [data-theme] on <html> */
html[data-theme="dark"] {
  --bg: #0b0f14;
  --card: #121822;
  --text: #e7edf4;
  --muted: #9fb2c6;
  --accent: #5dd6ff;
  --good: #40d37a;
  --bad: #ff6b6b;
}

html[data-theme="light"] {
  --bg: #f5f7fb;
  --card: #ffffff;
  --text: #1c2a3a;
  --muted: #5a6b7d;
  --accent: #1976d2;
  --good: #2e7d32;
  --bad: #c62828;
}

@media (prefers-color-scheme: light) {
  html[data-theme="auto"] {
    --bg: #f5f7fb;
    --card: #ffffff;
    --text: #1c2a3a;
    --muted: #5a6b7d;
    --accent: #1976d2;
    --good: #2e7d32;
    --bad: #c62828;
  }
}
@media (prefers-color-scheme: dark) {
  html[data-theme="auto"] {
    --bg: #0b0f14;
    --card: #121822;
    --text: #e7edf4;
    --muted: #9fb2c6;
    --accent: #5dd6ff;
    --good: #40d37a;
    --bad: #ff6b6b;
  }
}
/* Minimal, clean, responsive */
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans", "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
  color: var(--text);
  background: radial-gradient(1200px 800px at 20% -10%, #152233 0%, var(--bg) 60%);
}
.container {
  max-width: 880px; margin: 0 auto; padding: 24px;
}
h1, h2, h3 { margin: 0 0 12px; letter-spacing: .3px; }
p { color: var(--muted); }

.screen { display: block; }
.hidden { display: none !important; }

.card {
  background: linear-gradient(180deg, #121826, #0f1621);
  border: 1px solid rgba(255,255,255,.06);
  border-radius: 16px;
  padding: 16px;
  box-shadow: 0 10px 30px rgba(0,0,0,.25);
}
.row {
  display: flex; align-items: center; gap: 12px; margin: 10px 0;
}
label { width: 180px; color: var(--muted); }
select, input[type="text"] {
  background: #0d1420; color: var(--text);
  border: 1px solid rgba(255,255,255,.09);
  border-radius: 10px; padding: 10px 12px;
}
.primary, .ghost {
  border-radius: 12px; padding: 10px 16px;
  border: 1px solid rgba(255,255,255,.09);
  background: #162238; color: var(--text); cursor: pointer;
}
.primary { background: linear-gradient(180deg, #1b2d49, #162238); border-color: rgba(93,214,255,.35); }
.primary:hover { outline: 2px solid rgba(93,214,255,.35); }
.ghost:hover { outline: 1px solid rgba(255,255,255,.2); }
.muted { color: var(--muted); }

.hud {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 8px;
  margin-bottom: 10px;
}
.stat {
  background: #0e1623;
  border: 1px solid rgba(255,255,255,.06);
  border-radius: 12px;
  padding: 8px 10px;
  display: flex; align-items: center; justify-content: space-between;
}
.stat .label { color: var(--muted); }

.timer {
  width: 100%; height: 10px;
  background: #0c1320; border: 1px solid rgba(255,255,255,.05);
  border-radius: 999px; overflow: hidden;
  margin-bottom: 18px;
}
#timerFill {
  height: 100%; width: 100%;
  background: linear-gradient(90deg, var(--good), var(--accent));
  transform-origin: left center; transform: scaleX(1);
  transition: transform .12s linear;
}

.play {
  display: grid; place-items: center; gap: 12px;
  padding: 24px; border-radius: 16px;
  background: linear-gradient(180deg, rgba(93,214,255,.04), rgba(93,214,255,.02));
  border: 1px solid rgba(255,255,255,.06);
}
.kana {
  font-size: clamp(88px, 12vw, 168px);
  line-height: 1;
  text-shadow: 0 8px 28px rgba(93,214,255,.18);
}
.answer {
  width: min(520px, 90%);
  text-align: center;
  font-size: 22px;
}
.feedback { min-height: 24px; }
.feedback.good { color: var(--good); }
.feedback.bad { color: var(--bad); }

.notes { margin-top: 18px; }

.results {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 8px;
}
.results .label { color: var(--muted); margin-right: 8px; }

.hiscore { padding-left: 20px; }

.controls { display: flex; justify-content: flex-end; margin-top: 14px; }

/* Toggle switch */
.switch { position: relative; display: inline-block; width: 44px; height: 24px; }
.switch input { opacity: 0; width: 0; height: 0; }
.slider {
  position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0;
  background: #0f1a2a; border: 1px solid rgba(255,255,255,.12);
  transition: .2s; border-radius: 999px;
}
.slider:before {
  position: absolute; content: ""; height: 18px; width: 18px; left: 2px; bottom: 2px;
  background: #fff; border-radius: 50%; transition: .2s;
}
input:checked + .slider { background: #183a54; }
input:checked + .slider:before { transform: translateX(20px); }

@media (max-width: 640px) {
  .hud { grid-template-columns: repeat(2, 1fr); }
  .results { grid-template-columns: 1fr; }
}
